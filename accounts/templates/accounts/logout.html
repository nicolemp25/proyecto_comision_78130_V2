{% extends "coder/index.html" %}
{% block titulo %}Cerrar sesión{% endblock %}

{% block contenido %}
<div class="container py-5 d-flex justify-content-center align-items-center" style="min-height:70vh;">
  <div class="card shadow-sm border-0 text-center p-5" style="max-width:480px; border-radius:16px;">
    <div class="mb-3">
      <div class="rounded-circle d-inline-flex align-items-center justify-content-center bg-danger-subtle"
           style="width:64px;height:64px;">
        <i class="bi bi-box-arrow-right fs-3 text-danger"></i>
      </div>
    </div>

    <h3 class="fw-bold text-danger mb-3">¿Deseas cerrar sesión?</h3>
    <p class="text-secondary mb-4">Si cierras sesión, deberás volver a iniciar para acceder a tu perfil y tus datos.</p>

    <form method="post">
      {% csrf_token %}
      <div class="d-flex justify-content-center gap-3">
        <a href="{% url 'profile_detail' %}" class="btn btn-outline-secondary px-4">Cancelar</a>
        <button type="submit" class="btn btn-danger px-4">
          <i class="bi bi-box-arrow-right me-1"></i> Cerrar sesión
        </button>
      </div>
    </form>
  </div>
</div>

<script>
  // Microefecto visual al enviar el formulario
  document.querySelector('form').addEventListener('submit', e => {
    const btn = e.target.querySelector('button[type="submit"]');
    btn.innerHTML = '<span class="spinner-border spinner-border-sm me-2"></span>Saliendo...';
    btn.disabled = true;
  });
</script>
{% endblock %}
